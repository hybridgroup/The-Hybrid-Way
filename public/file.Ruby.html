<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>File: Ruby</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: Ruby</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h1>General Formatting and Syntax</h1>

<p>The general rule of thumb is: if it works and isn't too slow, go with whatever looks pretty.
You can always optimize later.</p>

<ul>
<li>Still in progress will update when I have time *</li>
</ul>


<h2>Formatting</h2>

<ul>
<li>Indent with "soft tab two" (two spaces in place of a tab)</li>
</ul>


<p>Most (good) editors have an option in their preferences to change this. As will be stated
in the styling guidelines, our HAML templates use soft tabs as well.</p>

<ul>
<li>Indent every inner block once. Twice if inside an array or hash declaration.</li>
</ul>


<p>Pretty obvious, if you have a block, indent it.
(Please avoid the use of big hash tables and method chaining.)</p>

<pre class="code"><span class='id long_hash'>long_hash</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:a</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>b</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:c</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>d</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:e</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>f</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:g</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>h</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:i</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>j</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:k</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>l</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:m</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>n</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
    <span class='symbol'>:o</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>p</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:q</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>r</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:s</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>t</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:u</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>v</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:x</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>y</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:z</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='rbrace'>}</span>

<span class='comment'># Don't do this, but if you really have to...
</span><span class='id method_chain'>method_chain</span> <span class='op'>=</span> <span class='id long_hash'>long_hash</span><span class='period'>.</span><span class='id invert'>invert</span><span class='period'>.</span><span class='id entries'>entries</span><span class='period'>.</span><span class='id reverse'>reverse</span><span class='period'>.</span><span class='id join'>join</span><span class='period'>.</span><span class='id upcase'>upcase</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id size'>size</span><span class='period'>.</span><span class='id hash'>hash</span><span class='period'>.</span><span class='id chr'>chr</span><span class='period'>.</span>
    <span class='id to_i'>to_i</span><span class='period'>.</span><span class='id next'>next</span><span class='period'>.</span><span class='id floor'>floor</span><span class='period'>.</span><span class='id odd?'>odd?</span><span class='period'>.</span><span class='id hash'>hash</span><span class='period'>.</span><span class='id pred'>pred</span><span class='period'>.</span><span class='id round'>round</span><span class='period'>.</span><span class='id size'>size</span><span class='period'>.</span><span class='id hash'>hash</span><span class='period'>.</span><span class='id succ'>succ</span><span class='period'>.</span><span class='id hash'>hash</span><span class='period'>.</span><span class='id next'>next</span><span class='period'>.</span><span class='id hash'>hash</span><span class='period'>.</span><span class='id chr'>chr</span>
</pre>

<ul>
<li>The protected and private keywords count as starting a block</li>
</ul>


<p>Indent protected and private method definitions</p>

<pre class="code"><span class='kw'>class</span> <span class='const'>Example</span>

  <span class='id protected'>protected</span>

    <span class='kw'>def</span> <span class='id pro'>pro</span>
    <span class='kw'>end</span>

  <span class='id private'>private</span>

    <span class='kw'>def</span> <span class='id priv'>priv</span>
    <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>

<ul>
<li><p>Separate method definitions by a blank line</p>

<pre class="code"><span class='kw'>def</span> <span class='id method1'>method1</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id method2'>method2</span>
<span class='kw'>end</span>
</pre></li>
<li><p>List methods in ascending alphabetical order</p>

<pre class="code"><span class='kw'>def</span> <span class='id a_method'>a_method</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id b_method'>b_method</span>
<span class='kw'>end</span>

<span class='kw'>def</span> <span class='id xtrange_method'>xtrange_method</span>
<span class='kw'>end</span>
</pre></li>
<li><p>The long-line limit is 80 characters</p></li>
</ul>


<p>Any line longer than 80 characters probably needs to be split multiple lines. Most editors
allow you to set the long line limit and will show a bar to the right hand side.</p>

<ul>
<li><p>Trailing whitespace is useless, remove it.</p></li>
<li><p>Put a space after a comma when listing elements</p>

<pre class="code">[a,b,c,g,h] should be [a, b, c, d]
{:a=&gt;1,:b=&gt;2,:c=&gt;3} should be {:a =&gt; 1, :b =&gt; 2, :c =&gt; 3}
</pre></li>
</ul>


<h2>Syntax and Usage</h2>

<ul>
<li><p>Use the ternary operator for single line if ... else</p>

<pre class="code">  <span class='id ternary'>ternary</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>yes</span><span class='tstring_end'>'</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no</span><span class='tstring_end'>'</span></span>
</pre></li>
<li><p>You don't need a semicolon</p></li>
</ul>


<p>This is Ruby. What's a semicolon?</p>

<ul>
<li><p>Explicit returns only when necessary</p></li>
<li><p>Use { ... } for single line blocks and do ... end for multiline blocks</p></li>
<li><p>Reducing or Injecting? Use |m, i|</p></li>
</ul>


<p>Memory and Item or Iterator</p>

<ul>
<li>Choose length over size; but count on ActiveRecord</li>
</ul>


<p>On ActiveRecord associations, .count will issue a "SELECT COUNT(*) FROM ...." query.
If you call length or size, it will try to pull all the associations from the db and then
count them (if it hasn't already been loaded). You also can't specify conditions with
length or size. Remember: You can always count on ActiveRecord.
To see why you should use length over size, try calling size on a Fixnum.</p>

<pre class="code">irb:0&gt; 5.size
=&gt; 8
</pre>

<ul>
<li><p>Write for 1.8.7 but don't try to break 1.9.2 (or newer)</p></li>
<li><p>Meta programming will get over your head when you least expect it, be careful</p></li>
</ul>


<h2>Common Sense</h2>

<ul>
<li><p>Make the code clean first and then use a profiler to deal with
performance issues.</p></li>
<li><p>The monkey is free! Monkey Patching / Freedom Patching should be used sparingly</p></li>
</ul>


<p>Monkeys roaming free at the zoo could be both a good thing and a bad thing.
Monkey Patching is one of the more powerful features of Ruby. But as with all power,
don't let it consume you. If you find a problem/conflict with a gem or library, contribute a patch.</p>

<ul>
<li><p>Keep It Simple Stupid</p></li>
<li><p>Don't Repeat Yourself</p></li>
</ul>


<h2>Testing</h2>

<ul>
<li><p>Starting with tests isn't what you want unless you know exactly how things work (and that it will work that way).</p>

<p>  TDD and BDD tutorials neglect to mention a very crucial 0th step: the prototype. You have to have a working
  prototype, otherwise the test is too general. It's going to be painful to have to keep rewriting the tests. Get your
  prototype working--either in your head or as proofs of concept--and then write tests for the real thing.</p></li>
</ul>
</div></div>
    
    <div id="footer">
  Generated on Thu Sep 13 17:09:40 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.5 (ruby-1.9.2).
</div>

  </body>
</html>